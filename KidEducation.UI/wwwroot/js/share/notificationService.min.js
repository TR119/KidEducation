
var notificationService = {
    delayTime: 3000,
    init: function () {
    },

    success: function (message, title = 'Thông báo', onClosed = null) {
        $.notify({
            icon: 'fa fa-bell',
            title: title,
            message: message
        },
            {
                type: 'success',
                z_index: 1060,
                placement: { from: 'top', align: 'right' },
                time: this.delayTime,
                onClosed: onClosed
            });
    },

    error: function (message, title = 'Thông báo', onClosed = null) {
        $.notify({
            icon: 'fa fa-exclamation-triangle',
            title: title,
            message: message
        },
            {
                type: 'danger',
                z_index: 1060,
                placement: { from: 'top', align: 'right' }, time: this.delayTime
            });
    },

    warning: function (message, title = 'Thông báo', onClosed = null) {
        $.notify({
            icon: 'fa fa-exclamation-triangle',
            title: title,
            message: message
        },
            {
                type: 'warning',
                z_index: 1060,
                placement: { from: 'top', align: 'right' }, time: this.delayTime
            });
    },
    info: function (message, title = 'Thông báo', onClosed = null) {
        $.notify({
            icon: 'fa fa-info-circle',
            title: title,
            message: message
        },
            {
                type: 'info',
                z_index: 1060,
                placement: { from: 'top', align: 'right' }, time: this.delayTime
            });
    }
    , notify: function (message, type) {
        switch (type) {
            case "-1", 1:
                this.error(message);
                break;
            case "0", 0:
                this.warning(message);
                break;
            case "1", 1:
                this.warning(message);
                break;
            case "2", 2:
                this.success(message);
                break;
            default:
                this.info(message);
                break;
        }
    },
    xhrNotify: function (xhr) {
        commonService.loadingOff();
        if (xhr.status == 0) {
            notificationService.error("Vui lòng thực hiện đăng nhập lại", "Lỗi hệ thống");
            setTimeout(function () {
                window.location.href = '/';
            }, notificationService.delayTime + 100);
        } else if (xhr.status == 200 && xhr.readyState == 4) {
            notificationService.error("Vui lòng thực hiện đăng nhập lại", "Hết thời gian phiên làm việc");
            setTimeout(function () {
                window.location.href = '/';
            }, notificationService.delayTime + 100);
        }

    }
};
notificationService.init();
var alertService = {
    alert: function (message, header = "Thông báo", labelBtn = "Đóng") {
        alertify.alert().setHeader(header)
            .setting({
                'label': labelBtn,
                'message': message,
                'transition': 'zoom'
            }).show();
    }
};

var confirmService = {
    confirm: function (message, header = "Thông báo") {
        return new window.Promise((resolve, reject) => {
            alertify.confirm().setHeader(header).set('labels', { cancel: 'Đóng', ok: 'Thực hiện' })
                .setting({
                    'transition': 'fade',
                    'message': message,
                    'onok': function () { resolve(true); },
                    'oncancel': function () { reject(false); }
                }).show();
        });
    }
};

